<!DOCTYPE html>

<h1>Learn JS</h1>

<script>

  'use strict';

  const delay = () => Math.floor(Math.random() * 1000) + 500;


  const doTaskA = () => new Promise(resolve => {
    setTimeout(() => {
      console.log("a done");
      resolve("a");
    }, delay());
  });

  const doTaskB = () => new Promise(resolve => {
    setTimeout(() => {
      console.log("b done");
      resolve("b");
    }, delay());
  });

  const doTaskC = () => new Promise(resolve => {
    setTimeout(() => {
      console.log("c done");
      resolve("c");
    }, delay());
  });

  // const doAllTasks = () => {

  //   return doTaskA()
  //     .then((r) => {
  //       console.log(r);
  //       return doTaskB();
  //     })
  //     .then((r) => {
  //       console.log(r);
  //       return doTaskC();
  //     })
  //     .then(r => {
  //       console.log(r);
  //     });

  // };

  const doAllTasks = async () => {

    console.log(await doTaskA());
    console.log(await doTaskB());
    console.log(await doTaskC());

  };

  doAllTasks().then(() => {
    console.log("all done, go home...");
  });



</script>